namespace = Stellaris_Annals

country_event = {#正常周报
	id = Stellaris_Annals.1
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = News_Framework

	trigger = {
		is_ai = no
	}

	immediate = {
		if = {#获取国家作用域
			limit = { 
				NOT = {
					has_country_flag = GetCountryName
				}
			}
			set_country_flag = GetCountryName
			owner = {
				save_global_event_target_as = GetCountryNameTarget
			}
		}
		country_event = {
			id = Stellaris_Annals.1
			days = 180
		}
	}

	title = Stellaris_Annals.1.name
	desc = Stellaris_Annals.1.desc
}

country_event = {
	id = Stellaris_Annals.2
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		add_research_option = tech_jump_drive_1
		add_tech_progress = {
			tech = tech_jump_drive_1
			progress = 1
		}
	}
}

country_event = {#三大飞升专报
	id = Stellaris_Annals.3
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = News_Framework

	trigger = {
		is_ai = no
		if = {
			limit = { 
				has_ascension_perk = ap_synthetic_evolution
			}
			NOT = {
				has_country_flag = get_ap_synthetic_evolution
			}
		}
		else_if = {
			limit = { 
				has_ascension_perk = ap_transcendence
			}
			NOT = {
				has_country_flag = get_ap_transcendence
			}
		}
		else_if = {
			limit = { 
				has_ascension_perk = ap_evolutionary_mastery
			}
			NOT = {
				has_country_flag = get_ap_evolutionary_mastery
			}
		}
		else = {
			always = no
		}
	}

	immediate = {
		if = {
			limit = { 
				has_ascension_perk = ap_synthetic_evolution
			}
			set_country_flag = get_ap_synthetic_evolution
		}
		else_if = {
			limit = { 
				has_ascension_perk = ap_transcendence
			}
			set_country_flag = get_ap_transcendence
		}
		else_if = {
			limit = {
				has_ascension_perk = ap_evolutionary_mastery
			}
			set_country_flag = get_ap_evolutionary_mastery
		}
	}

	title = Stellaris_Annals.3.name
	desc = Stellaris_Annals.3.desc
}